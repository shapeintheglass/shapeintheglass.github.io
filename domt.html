<script src="domt.js"></script>
<link rel="stylesheet" type="text/css" href="domt.css">

<body>
	<h1>Shitty Dungeons and Daddies "Deck of many things" outcome generator</h1>
	<h2>Spoilers for episode 43!</h2>
	<p>In episode 43, five characters have drawn from the deck of many things. What possible outcomes are there? Click "Generate" to see one possibility.</p>
	<br/>
    <div class="btn1">
		<button type="button" onclick="onGenerateScenarioClick()">Generate</button>
		<button type="button" onclick="onClearClick()">Clear</button>
	</div>
	<br/>
	<table>
		<tr>
			<th>Character</th>
			<th># declared</th>
			<th>Potential cards</th>
			<th>Potential effects</th>
		</tr>
		<tr>
			<td class="centered">Cern</td>
			<td class="centered">2</td>
			<td id="cern-cards"></td>
			<td id="cern-effects"></td>
		</tr>
		<tr>
			<td class="centered">Henry</td>
			<td class="centered">3</td>
			<td id="henry-cards"></td>
			<td id="henry-effects"></td>
		</tr>
		<tr>
			<td class="centered">Glenn</td>
			<td class="centered">4</td>
			<td id="glenn-cards"></td>
			<td id="glenn-effects"></td>
		</tr>
		<tr>
			<td class="centered">Ron</td>
			<td class="centered">2</td>
			<td id="ron-cards"></td>
			<td id="ron-effects"></td>
		</tr>
		<tr>
			<td class="centered">Mr. Mustache</td>
			<td class="centered">2</td>
			<td id="dog-cards"></td>
			<td id="dog-effects"></td>
		</tr>
	</table>
	
	<p>Notes: 
	<ul>
	<li>In this version of the deck, all cards that have already been pulled are destroyed. This applies to the Gem and Throne cards. However, all other cards in the standard 22 card deck are assumedly viable.</li>
	<li>If a card offers a choice of drawing more cards (jester, idiot), a coin is flipped to decide whether this should be done.</li>
	<li>If a card's effect means that no further cards can be drawn (donjon, void), then no further cards are drawn by that character.</li>
	<li>Cern can only draw two cards total, and neither of them can be donjon or void (because presumably this would make it impossible for him to make it to this episode). If Cern gets an invalid hand, the scenario is retried.</li>
	</ul></p>
	
	<h2>Montecarlo simulation</h2>
	
	<p>This runs a large number of scenarios and calculates the percentage of times that each character recieved a specific card. A larger number of trials will be more "accurate" but will take longer to compute.</p>
	
	<div class="btn2">Number of trials: <input id="trials" type="number" value="1000"></input><button type="button" onclick="onMontecarloClick()">Go</button><button type="button" onclick="resetMCUI()">Clear</button></div>
	<br/>
	<table>
		<tr id="header-row">
		</tr>
		<tr id="cern-row">
		</tr>
		<tr id="henry-row">
		</tr>
		<tr id="glenn-row">
		</tr>
		<tr id="ron-row">
		</tr>
		<tr id="dog-row">
		</tr>
	</table>
	
	<p>Percent of trials in which void or donjon were drawn: <span id="num-bad-trials">0</span>%</p>
	
	<p>Percent of trials in which moon or fate were drawn: <span id="num-wish-trials">0</span>%</p>
	
	<p>Percent of trials in which flames or skull were drawn: <span id="num-boss-trials">0</span>%</p>
	
	<p>Notes: 
	<ul>
	<li>Due to the rules established above, Cern cannot have drawn void or donjon.</li>
	</ul></p>
</body>